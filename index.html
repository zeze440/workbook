<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI ì˜ì–´ ì›Œí¬ë¶ ìƒì„±ê¸° - ëŒ€ëŸ‰ ì§€ë¬¸ ì²˜ë¦¬</title>
    <link rel="stylesheet" href="../static/css/style.css" />
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>ğŸ¤– AI ì˜ì–´ ì›Œí¬ë¶ ìƒì„±ê¸°</h1>
        <p>ëŒ€ëŸ‰ ì§€ë¬¸ ì²˜ë¦¬ ë° ë°°ì¹˜ ì›Œí¬ë¶ ìƒì„± ì‹œìŠ¤í…œ</p>
      </div>

      <div class="tabs">
        <button class="tab active" onclick="switchTab('single')">
          ğŸ“ ë‹¨ì¼ ì§€ë¬¸
        </button>
        <button class="tab" onclick="switchTab('batch')">ğŸ“š ëŒ€ëŸ‰ ì²˜ë¦¬</button>
        <button class="tab" onclick="switchTab('results')">ğŸ“Š ê²°ê³¼ ê´€ë¦¬</button>
      </div>

      <!-- ë‹¨ì¼ ì§€ë¬¸ íƒ­ -->
      <div id="singleTab" class="tab-content active">
        <div class="main-grid">
          <div class="section input">
            <h3 class="section-title">ğŸ“ ë‹¨ì¼ ì§€ë¬¸ ì²˜ë¦¬</h3>

            <div class="api-settings">
              <h4>ğŸ”‘ API ì„¤ì •</h4>
              <div class="form-group">
                <label for="apiKey">OpenAI API Key:</label>
                <input type="password" id="apiKey" placeholder="sk-..." />
              </div>
            </div>

            <div class="form-group">
              <label for="singleTitle">ì›Œí¬ë¶ ì œëª©:</label>
              <input type="text" id="singleTitle" value="AI ìƒì„± ì˜ì–´ ì›Œí¬ë¶" />
            </div>

            <div class="form-group">
              <label for="grammarSelection">ğŸ¯ ìƒì„±í•  ë¬¸ë²• ìœ í˜• ì„ íƒ:</label>
              <div class="grammar-selector">
                <div class="grammar-categories">
                  <div class="grammar-category">
                    <h5>ğŸ”¥ ê³ ê¸‰ ë¬¸ë²•</h5>
                    <label class="checkbox-item">
                      <input type="checkbox" value="conditionals" checked />
                      <span>ë³µí•© ê°€ì •ë²• (Mixed Conditionals)</span>
                    </label>
                    <label class="checkbox-item">
                      <input type="checkbox" value="inversion" checked />
                      <span>ë„ì¹˜êµ¬ë¬¸ (Inversion)</span>
                    </label>
                    <label class="checkbox-item">
                      <input type="checkbox" value="participles" checked />
                      <span>ê³ ê¸‰ ë¶„ì‚¬êµ¬ë¬¸</span>
                    </label>
                    <label class="checkbox-item">
                      <input type="checkbox" value="relative_clauses" checked />
                      <span>ë³µì¡í•œ ê´€ê³„ì ˆ</span>
                    </label>
                  </div>

                  <div class="grammar-category">
                    <h5>âš¡ ìµœê³ ê¸‰ ë¬¸ë²•</h5>
                    <label class="checkbox-item">
                      <input type="checkbox" value="subjunctive" checked />
                      <span>ê°€ì •ë²• (Subjunctive)</span>
                    </label>
                    <label class="checkbox-item">
                      <input type="checkbox" value="ellipsis" checked />
                      <span>ìƒëµ êµ¬ë¬¸</span>
                    </label>
                    <label class="checkbox-item">
                      <input type="checkbox" value="parallelism" checked />
                      <span>ë³‘ë ¬êµ¬ì¡°</span>
                    </label>
                    <label class="checkbox-item">
                      <input type="checkbox" value="tense_sequence" checked />
                      <span>ì‹œì œ ì¼ì¹˜</span>
                    </label>
                  </div>

                  <div class="grammar-category">
                    <h5>ğŸ“š ì–´ë²• ì‹¬í™”</h5>
                    <label class="checkbox-item">
                      <input type="checkbox" value="prepositions" checked />
                      <span>ì „ì¹˜ì‚¬/êµ¬ë™ì‚¬</span>
                    </label>
                    <label class="checkbox-item">
                      <input
                        type="checkbox"
                        value="gerund_infinitive"
                        checked
                      />
                      <span>ë™ëª…ì‚¬/ë¶€ì •ì‚¬</span>
                    </label>
                    <label class="checkbox-item">
                      <input type="checkbox" value="conjunctions" checked />
                      <span>ê³ ê¸‰ ì ‘ì†ì‚¬</span>
                    </label>
                    <label class="checkbox-item">
                      <input type="checkbox" value="emphasis" checked />
                      <span>ê°•ì¡° êµ¬ë¬¸</span>
                    </label>
                  </div>
                </div>

                <div class="grammar-actions">
                  <button
                    type="button"
                    class="btn small"
                    onclick="selectAllGrammar()"
                  >
                    âœ… ì „ì²´ ì„ íƒ
                  </button>
                  <button
                    type="button"
                    class="btn small"
                    onclick="deselectAllGrammar()"
                  >
                    âŒ ì „ì²´ í•´ì œ
                  </button>
                  <button
                    type="button"
                    class="btn small warning"
                    onclick="selectRecommended()"
                  >
                    â­ ì¶”ì²œ ì„ íƒ
                  </button>
                </div>

                <div class="selected-count">
                  ì„ íƒëœ ë¬¸ë²• ìœ í˜•: <span id="selectedGrammarCount">12</span>ê°œ
                </div>
              </div>
            </div>

            <div class="form-group">
              <label for="singleText">ì˜ì–´ ì§€ë¬¸:</label>
              <textarea
                id="singleText"
                placeholder="ì—¬ê¸°ì— ì˜ì–´ ì§€ë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”..."
              >
What makes proverbs so enduring, despite their apparent simplicity, is not merely their surface meaning but the profound wisdom they encapsulate through metaphorical language that transcends cultural boundaries.</textarea
              >
            </div>

            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-number" id="singleCharCount">0</div>
                <div class="stat-label">ê¸€ì ìˆ˜</div>
              </div>
              <div class="stat-card">
                <div class="stat-number" id="singleWordCount">0</div>
                <div class="stat-label">ë‹¨ì–´ ìˆ˜</div>
              </div>
              <div class="stat-card">
                <div class="stat-number">5,247</div>
                <div class="stat-label">ì–´íœ˜ DB</div>
              </div>
              <div class="stat-card">
                <div class="stat-number">5</div>
                <div class="stat-label">ë¬¸ì œ ìœ í˜•</div>
              </div>
            </div>

            <div class="grammar-preview">
              <h4>ğŸ“‹ ì„ íƒëœ ë¬¸ë²• ìœ í˜• ë¯¸ë¦¬ë³´ê¸°</h4>
              <div id="grammarTags"></div>
              <div class="difficulty-indicator">
                <span>ë‚œì´ë„:</span>
                <div class="difficulty-bar">
                  <div
                    class="difficulty-fill"
                    id="difficultyFill"
                    style="width: 85%"
                  ></div>
                </div>
                <span id="difficultyText">ìµœê³ ê¸‰</span>
              </div>
            </div>

            <button
              class="btn"
              id="generateSingleBtn"
              onclick="generateSingleWorkbook()"
            >
              ğŸš€ ì›Œí¬ë¶ ìƒì„±í•˜ê¸°
            </button>
          </div>

          <div class="section output">
            <h3 class="section-title">ğŸ“š ì›Œí¬ë¶ ë¯¸ë¦¬ë³´ê¸°</h3>
            <div class="workbook-preview" id="singlePreview">
              <div style="text-align: center; color: #7f8c8d; padding: 50px">
                <h3>ğŸ¯ ì›Œí¬ë¶ ìƒì„± ì¤€ë¹„ ì™„ë£Œ</h3>
                <p>ì§€ë¬¸ì„ ì…ë ¥í•˜ê³  'ì›Œí¬ë¶ ìƒì„±í•˜ê¸°' ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.</p>
              </div>
            </div>
            <button
              class="btn success"
              id="downloadSingleBtn"
              onclick="downloadWorkbook('single')"
              style="display: none; margin-top: 15px"
            >
              ğŸ’¾ ì›Œí¬ë¶ ë‹¤ìš´ë¡œë“œ
            </button>
          </div>
        </div>
      </div>

      <!-- ëŒ€ëŸ‰ ì²˜ë¦¬ íƒ­ -->
      <div id="batchTab" class="tab-content">
        <div class="main-grid">
          <div class="section input">
            <h3 class="section-title">ğŸ“š ëŒ€ëŸ‰ ì§€ë¬¸ ê´€ë¦¬</h3>

            <div class="form-group">
              <label for="bulkTextInput"
                >ì§€ë¬¸ ì¼ê´„ ì…ë ¥ (ê° ì§€ë¬¸ì„ --- ë¡œ êµ¬ë¶„):</label
              >
              <textarea
                id="bulkTextInput"
                class="bulk-text-input"
                placeholder="ì§€ë¬¸ 1

---

ì§€ë¬¸ 2

---

ì§€ë¬¸ 3"
              >
What makes proverbs so enduring, despite their apparent simplicity, is not merely their surface meaning but the profound wisdom they encapsulate through metaphorical language that transcends cultural boundaries.

---

Learning a new language opens doors to understanding different cultures and perspectives. It challenges our assumptions about communication and helps us develop cognitive flexibility that serves us well in many areas of life.

---

The rapid advancement of artificial intelligence has fundamentally transformed how we approach problem-solving in various fields. From healthcare to education, AI systems are augmenting human capabilities and creating new possibilities for innovation.</textarea
              >
            </div>

            <div class="form-group">
              <label>ğŸ¯ ë°°ì¹˜ ì²˜ë¦¬ìš© ë¬¸ë²• ì„¤ì •:</label>
              <div class="batch-grammar-settings">
                <div class="setting-item">
                  <label class="checkbox-item">
                    <input
                      type="checkbox"
                      id="useCustomGrammar"
                      onchange="toggleCustomGrammar()"
                    />
                    <span>ì»¤ìŠ¤í…€ ë¬¸ë²• ì„¤ì • ì‚¬ìš©</span>
                  </label>
                </div>
                <div class="setting-item">
                  <label class="checkbox-item">
                    <input type="checkbox" id="randomizeGrammar" checked />
                    <span>ì§€ë¬¸ë³„ ë¬¸ë²• ìœ í˜• ë¬´ì‘ìœ„ ì ìš©</span>
                  </label>
                </div>
                <div class="setting-item">
                  <label for="grammarPerText">ì§€ë¬¸ë‹¹ ë¬¸ë²• ìœ í˜• ìˆ˜:</label>
                  <select id="grammarPerText" class="form-select">
                    <option value="3">3ê°œ</option>
                    <option value="5" selected>5ê°œ</option>
                    <option value="8">8ê°œ</option>
                    <option value="all">ì „ì²´</option>
                  </select>
                </div>
              </div>
            </div>

            <div class="bulk-actions">
              <button class="btn" onclick="parseTexts()">ğŸ“ ì§€ë¬¸ íŒŒì‹±</button>
              <button
                class="btn success"
                onclick="startBatchGeneration()"
                id="batchGenerateBtn"
                disabled
              >
                ğŸš€ ì „ì²´ ìƒì„± ì‹œì‘
              </button>
              <button
                class="btn warning"
                onclick="pauseBatchGeneration()"
                id="pauseBtn"
                style="display: none"
              >
                â¸ï¸ ì¼ì‹œì •ì§€
              </button>
              <button class="btn danger" onclick="clearAllTexts()">
                ğŸ—‘ï¸ ì „ì²´ ì‚­ì œ
              </button>
            </div>

            <div class="text-manager" id="textManager">
              <h4>ğŸ“‹ ë“±ë¡ëœ ì§€ë¬¸ ëª©ë¡ (0ê°œ)</h4>
              <div id="textList"></div>
            </div>
          </div>

          <div class="section output">
            <h3 class="section-title">âš¡ ë°°ì¹˜ ì²˜ë¦¬ í˜„í™©</h3>

            <div class="progress-section" id="batchProgress">
              <div class="overall-progress">
                <h4>ì „ì²´ ì§„í–‰ë¥ </h4>
                <div class="progress-bar-container">
                  <div class="progress-bar" id="overallProgressBar"></div>
                </div>
                <div class="progress-text" id="overallProgressText">
                  ëŒ€ê¸° ì¤‘...
                </div>
              </div>

              <div class="stats-grid">
                <div class="stat-card">
                  <div class="stat-number" id="totalTexts">0</div>
                  <div class="stat-label">ì´ ì§€ë¬¸</div>
                </div>
                <div class="stat-card">
                  <div class="stat-number" id="completedTexts">0</div>
                  <div class="stat-label">ì™„ë£Œ</div>
                </div>
                <div class="stat-card">
                  <div class="stat-number" id="failedTexts">0</div>
                  <div class="stat-label">ì‹¤íŒ¨</div>
                </div>
                <div class="stat-card">
                  <div class="stat-number" id="estimatedTime">-</div>
                  <div class="stat-label">ì˜ˆìƒ ì‹œê°„</div>
                </div>
              </div>
            </div>

            <div class="batch-queue">
              <h4>ğŸ”„ ì²˜ë¦¬ ëŒ€ê¸°ì—´</h4>
              <div id="queueList">
                <div style="text-align: center; color: #7f8c8d; padding: 20px">
                  ëŒ€ê¸° ì¤‘ì¸ ì§€ë¬¸ì´ ì—†ìŠµë‹ˆë‹¤.
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ê²°ê³¼ ê´€ë¦¬ íƒ­ -->
      <div id="resultsTab" class="tab-content">
        <div class="main-grid">
          <div class="section input">
            <h3 class="section-title">ğŸ“Š ìƒì„± ê²°ê³¼ í†µê³„</h3>

            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-number" id="totalWorkbooks">0</div>
                <div class="stat-label">ìƒì„±ëœ ì›Œí¬ë¶</div>
              </div>
              <div class="stat-card">
                <div class="stat-number" id="totalProblems">0</div>
                <div class="stat-label">ì´ ë¬¸ì œ ìˆ˜</div>
              </div>
              <div class="stat-card">
                <div class="stat-number" id="avgGenerationTime">0</div>
                <div class="stat-label">í‰ê·  ìƒì„±ì‹œê°„(ì´ˆ)</div>
              </div>
              <div class="stat-card">
                <div class="stat-number" id="successRate">100%</div>
                <div class="stat-label">ì„±ê³µë¥ </div>
              </div>
            </div>

            <div class="bulk-actions">
              <button class="btn success" onclick="downloadAllWorkbooks()">
                ğŸ“¦ ì „ì²´ ë‹¤ìš´ë¡œë“œ
              </button>
              <button class="btn warning" onclick="exportStatistics()">
                ğŸ“ˆ í†µê³„ ë‚´ë³´ë‚´ê¸°
              </button>
              <button class="btn danger" onclick="clearResults()">
                ğŸ—‘ï¸ ê²°ê³¼ ì´ˆê¸°í™”
              </button>
            </div>
          </div>

          <div class="section output">
            <h3 class="section-title">ğŸ“‹ ì›Œí¬ë¶ ëª©ë¡</h3>
            <div class="results-list" id="resultsList">
              <div style="text-align: center; color: #7f8c8d; padding: 50px">
                ìƒì„±ëœ ì›Œí¬ë¶ì´ ì—†ìŠµë‹ˆë‹¤.
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="toast" id="toast"></div>

    <script src="../static/js/script.js"></script>
  </body>
</html>
